{% extends "home/base.html" %}
{% load static %}
{% block content %}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="{% static 'home/js/explore_page_js.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'home/CSS/explore-page.css' %}">
<body class="main-bg">

<form method="GET" class="container">
<div class="m-5" >

	{% for question in questions %}
	<div class=" question-display p-2 row m-0 border">
	    <img class="subject-img" src="{% get_static_prefix %}home\subjects-images\{{question.subject|lower}}.png">
            <div class="col-3">
                <a style="color:#6FB5EE" href="{% url 'question-detail' question.id %}">{{question.title }}</a>
            </div>
            <div class="col">
                <span>{{ question.subject }} ,{{ question.sub_subject }}</span>
            </div>
            <div class=" col">
                <p>{{question.get_grade_display }} </p>
            </div>
            <div class="col">
                <span >
                    {{question.get_answers_num}} answers
                </span>
            </div>
            <div class="col">
                <p>by <a class="mr-2" style="color:#6FB5EE" href="#"> <b>{{ question.profile }}</b></a></p>
                <small class="text-muted date">{{ question.publish_date|date:"d F, Y" }}</small>
            </div>
	 </div>

    {% empty %}
            <div class=" row font-weight-bold text-center">
                <span>No questions were found</span>
            </div>
	{% endfor %}

<div class="row m-4">
        <div class="col">
     {% if is_paginated %}
         <div class="btn-group" name="page" role="group" aria-label="Basic radio toggle button group">

              {% if page_obj.has_previous %}
                <input type="radio" class="btn-check" name="page" id="First" autocomplete="off" value=1  onclick="this.form.submit()" >
                <label class="btn btn-outline-secondary mb-4" for="First">First</label>

                <input type="radio" class="btn-check" name="page" id="Previous" autocomplete="off" value={{ page_obj.previous_page_number }}  onclick="this.form.submit()" >
                <label class="btn btn-outline-secondary mb-4" for="Previous">Previous</label>
              {% endif %}

              {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                 <input type="radio" class="btn-check" name="page" id="a{{num}}" autocomplete="off" value={{num}}  onclick="this.form.submit()" >
                <label class="btn btn-secondary mb-4" for="a{{num}}">{{num}}</label>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
              <input type="radio" class="btn-check" name="page" id=b{{num}} autocomplete="off" value={{num}} onclick="this.form.submit()" >
                <label class="btn btn-outline-secondary mb-4" for=b{{num}}>{{num}}</label>
                {% endif %}
              {% endfor %}

              {% if page_obj.has_next %}
                <input type="radio" class="btn-check" name="page" id="next" autocomplete="off" value={{page_obj.next_page_number}}  onclick="this.form.submit()" >
                <label class="btn btn-outline-secondary mb-4" for="next">Next</label>

                <input type="radio" class="btn-check" name="page" id="Last" autocomplete="off" value={{page_obj.paginator.num_pages }}  onclick="this.form.submit()" >
                <label class="btn btn-outline-secondary mb-4" for="Last">Last</label>
              {% endif %}
        </div>

    </div>
            {% endif %}

        <div class="col-5 pull-right">
            <div  class="btn-group" name="paginate_by" role="group" aria-label="Basic radio toggle button group" >
              <input type="radio" class="btn-check" name="paginate_by" id="btnradio5" autocomplete="off" value="5" onclick="this.form.submit()">
              <label class="btn btn-outline-secondary" for="btnradio5">5</label>

              <input type="radio" class="btn-check" name="paginate_by" id="btnradio10" value="10" autocomplete="off" onclick="this.form.submit()">
              <label class="btn btn-outline-secondary" for="btnradio10">10</label>

              <input type="radio" class="btn-check" name="paginate_by" id="btnradio15" value="15" autocomplete="off" onclick="this.form.submit()">
              <label class="btn btn-outline-secondary" for="btnradio15">15</label>

              <input type="radio" class="btn-check" name="paginate_by" id="btnradio20" autocomplete="off" value="20"  onclick="this.form.submit()" >
              <label class="btn btn-outline-secondary" for="btnradio20">20</label>

            </div>

             <span class="m-2">items Per page</span>
        </div>


    </div>
</div>
</form>

</body>
{% endblock content %}